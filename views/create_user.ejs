<%- include('./template/header.ejs') %>

<div
  class="w-full min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 p-6 overflow-x-hidden">

  <!-- Card -->
  <div
    class="w-full max-w-2xl bg-white rounded-3xl shadow-2xl p-10 transform transition-all duration-500 hover:scale-105 animate-fadeIn border border-gray-200">

    <!-- Header -->
    <h1 class="text-4xl font-extrabold text-center mb-3 text-indigo-600 drop-shadow-md">
      ‚ûï Create New User
    </h1>
    <p class="text-gray-500 text-center mb-8 text-lg">
      Fill in the details below to add a new user to the system.
    </p>

    <!-- Success / Error Messages -->
    <% if (error) { %>
      <div class="bg-red-100 text-red-700 p-3 rounded mb-6 text-center font-medium">
        <%= error %>
      </div>
    <% } %>

    <% if (success) { %>
      <div class="bg-green-100 text-green-700 p-3 rounded mb-6 text-center font-medium">
        <%= success %>
      </div>
    <% } %>

    <!-- Form -->
    <form action="/user/save" method="POST" class="space-y-6">

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Full Name -->
        <div class="relative">
          <input type="text" id="name" name="name" placeholder=" " required
            value="<%= formData.name || '' %>"
            class="peer w-full border-b-2 border-gray-300 focus:border-indigo-500 outline-none py-2 transition" />
          <label for="name"
            class="absolute left-0 -top-3.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-gray-400 peer-placeholder-shown:text-base peer-focus:-top-3.5 peer-focus:text-indigo-500 peer-focus:text-sm">
            Full Name
          </label>
        </div>

        <!-- Email -->
        <div class="relative">
          <input type="email" id="email" name="email" placeholder=" " required
            value="<%= formData.email || '' %>"
            class="peer w-full border-b-2 border-gray-300 focus:border-indigo-500 outline-none py-2 transition" />
          <label for="email"
            class="absolute left-0 -top-3.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-gray-400 peer-placeholder-shown:text-base peer-focus:-top-3.5 peer-focus:text-indigo-500 peer-focus:text-sm">
            Email ID
          </label>
        </div>

        <!-- Phone Number -->
        <div class="relative">
          <input type="tel" id="phone" name="phone" placeholder=" " required
            value="<%= formData.phone || '' %>"
            class="peer w-full border-b-2 border-gray-300 focus:border-indigo-500 outline-none py-2 transition" />
          <label for="phone"
            class="absolute left-0 -top-3.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-gray-400 peer-placeholder-shown:text-base peer-focus:-top-3.5 peer-focus:text-indigo-500 peer-focus:text-sm">
            Phone Number
          </label>
        </div>

        <!-- City -->
        <div class="relative">
          <input type="text" id="city" name="city" placeholder=" " required
            value="<%= formData.city || '' %>"
            class="peer w-full border-b-2 border-gray-300 focus:border-indigo-500 outline-none py-2 transition" />
          <label for="city"
            class="absolute left-0 -top-3.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-gray-400 peer-placeholder-shown:text-base peer-focus:-top-3.5 peer-focus:text-indigo-500 peer-focus:text-sm">
            City
          </label>
        </div>

        <!-- Username -->
        <div class="relative">
          <input type="text" id="username" name="username" placeholder=" " required
            value="<%= formData.username || '' %>"
            class="peer w-full border-b-2 border-gray-300 focus:border-indigo-500 outline-none py-2 transition" />
          <label for="username"
            class="absolute left-0 -top-3.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-gray-400 peer-placeholder-shown:text-base peer-focus:-top-3.5 peer-focus:text-indigo-500 peer-focus:text-sm">
            Username
          </label>
        </div>

        <!-- Password -->
        <div class="relative">
          <input type="password" id="password" name="password" placeholder=" " required
            class="peer w-full border-b-2 border-gray-300 focus:border-indigo-500 outline-none py-2 pr-10 transition" />
          <label for="password"
            class="absolute left-0 -top-3.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-gray-400 peer-placeholder-shown:text-base peer-focus:-top-3.5 peer-focus:text-indigo-500 peer-focus:text-sm">
            Password
          </label>
          <!-- Eye icon button -->
          <button type="button" id="togglePassword" class="absolute right-0 top-2.5 text-gray-400">
            üëÅÔ∏è
          </button>
        </div>

        <!-- Group Name -->
        <div class="relative">
          <input type="text" id="groupName" name="groupName" placeholder=" " required
            value="<%= formData.groupName || '' %>"
            class="peer w-full border-b-2 border-gray-300 focus:border-indigo-500 outline-none py-2 transition" />
          <label for="groupName"
            class="absolute left-0 -top-3.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-gray-400 peer-placeholder-shown:text-base peer-focus:-top-3.5 peer-focus:text-indigo-500 peer-focus:text-sm">
            Group Name
          </label>
        </div>

        <!-- Project Name -->
        <div class="relative">
          <input type="text" id="projectName" name="projectName" placeholder=" " required
            value="<%= formData.projectName || '' %>"
            class="peer w-full border-b-2 border-gray-300 focus:border-indigo-500 outline-none py-2 transition" />
          <label for="projectName"
            class="absolute left-0 -top-3.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-gray-400 peer-placeholder-shown:text-base peer-focus:-top-3.5 peer-focus:text-indigo-500 peer-focus:text-sm">
            Project Name
          </label>
        </div>
      </div>

      <!-- Description -->
      <div class="relative">
        <textarea id="description" name="description" rows="4" placeholder=" "
          class="peer w-full border-b-2 border-gray-300 focus:border-indigo-500 outline-none py-2 transition resize-none"><%= formData.description || '' %></textarea>
        <label for="description"
          class="absolute left-0 -top-3.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-gray-400 peer-placeholder-shown:text-base peer-focus:-top-3.5 peer-focus:text-indigo-500 peer-focus:text-sm">
          Description
        </label>
      </div>

      <!-- Submit -->
      <div class="text-center">
        <button type="submit"
          class="bg-gradient-to-r from-indigo-500 to-purple-500 text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:scale-105 transform transition duration-300">
          ‚úÖ Submit
        </button>
      </div>
    </form>

  </div>

  <!-- Animation -->
  <style>
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-fadeIn {
      animation: fadeIn 0.8s ease-in-out;
    }
  </style>
</div>

<script>
  const password = document.getElementById('password');
  const toggle = document.getElementById('togglePassword');

  toggle.addEventListener('click', () => {
    const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
    password.setAttribute('type', type);
    toggle.textContent = type === 'password' ? 'üëÅÔ∏è' : 'üôà';
  });
</script>

<%- include('./template/footer.ejs') %>
